# RealK: The True Value of K-Market

![Python](https://img.shields.io/badge/Python-3.11+-3776AB?style=for-the-badge&logo=python&logoColor=white)
![FastAPI](https://img.shields.io/badge/FastAPI-0.109-009688?style=for-the-badge&logo=fastapi&logoColor=white)
![Pandas](https://img.shields.io/badge/Pandas-Data_Analysis-150458?style=for-the-badge&logo=pandas&logoColor=white)
![Vercel](https://img.shields.io/badge/Vercel-Serverless-000000?style=for-the-badge&logo=vercel&logoColor=white)

> **"Price is what you pay. Value is what you get."** - Warren Buffett
>
> í•œêµ­ ì£¼ì‹ ì‹œì¥ì˜ **í™”í í™˜ìƒ(Money Illusion)**ì„ ê±·ì–´ë‚´ê³ , ë‹¬ëŸ¬(USD)ì™€ ì¸í”Œë ˆì´ì…˜(CPI)ì„ ë°˜ì˜í•œ **ì‹¤ì§ˆ êµ¬ë§¤ë ¥ ê¸°ì¤€ì˜ ì£¼ê°€ ì°¨íŠ¸**ë¥¼ ì œê³µí•˜ëŠ” í•€í…Œí¬ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

## ğŸ§ Project Background

### The Problem: ì°©ì‹œ í˜„ìƒ (Illusion of Return)
í•œêµ­ ì½”ìŠ¤í”¼ ì‹œì¥ì€ ì›í™”(KRW)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê±°ë˜ë©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì™¸êµ­ì¸ íˆ¬ììì˜ ìˆ˜ê¸‰ê³¼ ê±°ì‹œ ê²½ì œì  ê´€ì ì—ì„œ ì›í™” ê¸°ì¤€ ì£¼ê°€ëŠ” ì‹¤ì œ ê°€ì¹˜ë¥¼ ì™œê³¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ì‚¬ë¡€**: ì‚¼ì„±ì „ìê°€ 10ë…„ê°„ 2ë°° ì˜¬ëì§€ë§Œ, ì›/ë‹¬ëŸ¬ í™˜ìœ¨ì´ 50% ìƒìŠ¹í–ˆë‹¤ë©´ ì™¸êµ­ì¸ íˆ¬ìì ì…ì¥ì—ì„œì˜ ìˆ˜ìµë¥ ì€ ë°˜í† ë§‰ì´ ë‚©ë‹ˆë‹¤.
- **ì‚¬ë¡€**: ì£¼ê°€ê°€ ì˜¬ëì–´ë„ ë¬¼ê°€ê°€ ë” ë¹ ë¥´ê²Œ ì˜¬ëë‹¤ë©´, ë‚´ ìì‚°ì˜ ì‹¤ì§ˆ êµ¬ë§¤ë ¥(Purchasing Power)ì€ ì˜¤íˆë ¤ ê°ì†Œí•œ ê²ƒì…ë‹ˆë‹¤.

### The Solution: RealK Engine
RealKëŠ” **Serverless Python Architecture**ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‹¤ì‹œê°„ í™˜ìœ¨ ë° ê±°ì‹œ ê²½ì œ ì§€í‘œë¥¼ ìˆ˜ì§‘í•˜ê³ , Pandasë¥¼ í™œìš©í•œ ê³ ì† ë²¡í„° ì—°ì‚°ì„ í†µí•´ **ì„¸ ê°€ì§€ ê´€ì ì˜ ì°¨íŠ¸**ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
1.  **Nominal View**: ì¼ë°˜ì ì¸ ì›í™” ì£¼ê°€
2.  **USD Adjusted View**: í™˜ìœ¨ ë³€ë™ì„ ë°˜ì˜í•œ ë‹¬ëŸ¬ í™˜ì‚° ì£¼ê°€ (ì™¸êµ­ì¸ ìˆ˜ê¸‰ ë¶„ì„ìš©)
3.  **Inflation Adjusted View**: CPI(ì†Œë¹„ìë¬¼ê°€ì§€ìˆ˜)ë¥¼ ë°˜ì˜í•œ ì‹¤ì§ˆ ê°€ì¹˜ ì£¼ê°€ (ì¥ê¸° íˆ¬ì ë¶„ì„ìš©)

## ğŸ—ï¸ Architecture

ì´ í”„ë¡œì íŠ¸ëŠ” **'ê°€ë²¼ì›€'**ê³¼ **'ë°ì´í„° ì²˜ë¦¬ íš¨ìœ¨ì„±'**ì— ì´ˆì ì„ ë§ì¶˜ **Serverless Architecture**ë¥¼ ì±„íƒí–ˆìŠµë‹ˆë‹¤. ë¬´ê±°ìš´ DB ê´€ë¦¬ ì—†ì´ API ìš”ì²­ ì‹œì ì— ì¦‰ê°ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ê³  ê°€ê³µ(On-demand Processing)í•©ë‹ˆë‹¤.

```mermaid
graph LR
    User[Client (React)] -->|Request Chart| Cloudflare[Cloudflare CDN]
    Cloudflare -->|API Call| Vercel[Vercel Serverless Function]
    
    subgraph "Backend (FastAPI)"
        Vercel -->|Fetch Data| YFinance[(Yahoo Finance API)]
        Vercel -->|Fetch Macro| FRED[(US Fed API)]
        
        direction TB
        YFinance & FRED --> Pandas[Pandas Data Engine]
        Pandas -->|Resampling & Interpolation| Logic[Financial Logic]
    end
    
    Logic -->|JSON Response| User
## ğŸ—ï¸ Key Technical Decisions

- **Python & FastAPI**: ê¸ˆìœµ ë°ì´í„° ì²˜ë¦¬ì— ìµœì í™”ëœ ìƒíƒœê³„(Pandas, Numpy) í™œìš©ì„ ìœ„í•´ ì±„íƒ. ë¹„ë™ê¸°(Async) ì²˜ë¦¬ë¥¼ í†µí•´ ì™¸ë¶€ API í˜¸ì¶œ ëŒ€ê¸° ì‹œê°„ì„ ìµœì†Œí™”.
- **Pandas for ETL**: Java ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì²˜ë¦¬í•˜ê¸° ë³µì¡í•œ ì‹œê³„ì—´ ë°ì´í„°ì˜ ë¦¬ìƒ˜í”Œë§(Resampling), ê²°ì¸¡ì¹˜ ë³´ê°„(Interpolation), **ë™ì  ë³‘í•©(Merge)**ì„ ë²¡í„° ì—°ì‚°ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ í¼í¬ë¨¼ìŠ¤ ê·¹ëŒ€í™”.
- **Serverless (Vercel)**: íŠ¸ë˜í”½ì´ ì—†ì„ ë•Œ ë¹„ìš©ì´ '0'ì¸ ë¹„ìš© íš¨ìœ¨ì  êµ¬ì¡°. ìƒíƒœë¥¼ ì €ì¥í•˜ì§€ ì•ŠëŠ”(Stateless) ì•„í‚¤í…ì²˜ êµ¬í˜„.

## ğŸ› ï¸ Tech Stack

| Category | Tech | Description |
|---|---|---|
| **Language** | Python 3.11 | Type Hintingì„ ì ê·¹ í™œìš©í•œ Modern Python ê°œë°œ |
| **Framework** | FastAPI | ê³ ì„±ëŠ¥ ë¹„ë™ê¸° ì›¹ í”„ë ˆì„ì›Œí¬, ìë™í™”ëœ API ë¬¸ì„œ(Swagger) ì œê³µ |
| **Data Engine** | Pandas / NumPy | ì‹œê³„ì—´ ë°ì´í„° ì „ì²˜ë¦¬, ë²¡í„° ì—°ì‚°, ê²°ì¸¡ì¹˜ ì œì–´ |
| **Data Source** | yfinance, fredapi | ì£¼ì‹, í™˜ìœ¨, ê±°ì‹œê²½ì œ ì§€í‘œ ìˆ˜ì§‘ ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| **Frontend** | React, Recharts | Vercel/Vite ê¸°ë°˜ì˜ SPA, ì¸í„°ë™í‹°ë¸Œ ì°¨íŠ¸ ì‹œê°í™” |
| **Deployment** | Vercel, Cloudflare Pages | Backend & Frontendì˜ ë¶„ì‚° Serverless ë°°í¬ |

## ğŸ§® Financial Logic & Algorithm

RealKì˜ í•µì‹¬ ê°€ì¹˜ëŠ” ë‹¨ìˆœ ë°ì´í„° ì¡°íšŒê°€ ì•„ë‹Œ ê¸ˆìœµ ê³µí•™ì  ë³´ì • ë¡œì§ì— ìˆìŠµë‹ˆë‹¤.

### 1. ì‹¤ì§ˆ ì£¼ê°€ ì‚°ì¶œ (Real Price Calculation)

íŠ¹ì • ì‹œì ($t$)ì˜ ì£¼ê°€ë¥¼ ê¸°ì¤€ ì‹œì ($t_{base}$)ì˜ ê°€ì¹˜ë¡œ í™˜ì‚°í•©ë‹ˆë‹¤.

$$ P_{real}(t) = \frac{P_{nominal}(t)}{E(t)} \times \frac{CPI(t_{base})}{CPI(t)} $$

- $P_{real}(t)$: ë³´ì •ëœ ì‹¤ì§ˆ ì£¼ê°€
- $P_{nominal}(t)$: ì‹œì¥ ëª…ëª© ì£¼ê°€ (Close Price)
- $E(t)$: USD/KRW í™˜ìœ¨ (Exchange Rate)
- $CPI(t)$: ì†Œë¹„ì ë¬¼ê°€ ì§€ìˆ˜ (Consumer Price Index)

### 2. ë°ì´í„° ë³´ê°„ (Linear Interpolation)

ì£¼ì‹ ë°ì´í„°ëŠ” ì¼ë³„(Daily), CPI ë°ì´í„°ëŠ” ì›”ë³„(Monthly) ë°œí‘œë˜ë¯€ë¡œ ì‹œê³„ì—´ ë¶ˆì¼ì¹˜ê°€ ë°œìƒí•©ë‹ˆë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ Pandasì˜ ì„ í˜• ë³´ê°„ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

```python
# Pandas í™œìš© ì˜ˆì‹œ (í•µì‹¬ ë¡œì§)
def align_data(stock_df, cpi_df):
    # 1. ì›”ë³„ CPI ë°ì´í„°ë¥¼ ì¼ë³„ë¡œ í™•ì¥ (ë¹ˆ ê°’ ìƒì„±)
    cpi_daily = cpi_df.resample('D').asfreq()
    
    # 2. ì„ í˜• ë³´ê°„ë²•ì„ ì‚¬ìš©í•˜ì—¬ ë¹ˆ ë‚ ì§œì˜ CPI ì¶”ì •ì¹˜ ê³„ì‚°
    # (ì›”ì´ˆì™€ ì›”ë§ ì‚¬ì´ì˜ ë¬¼ê°€ëŠ” ì„ í˜•ì ìœ¼ë¡œ ë³€í•œë‹¤ê³  ê°€ì •)
    cpi_interpolated = cpi_daily.interpolate(method='linear')
    
    # 3. ì£¼ê°€ ë°ì´í„°ì™€ ë³‘í•© (Inner Joinìœ¼ë¡œ ê±°ë˜ì¼ë§Œ ë‚¨ê¹€)
    return pd.merge(stock_df, cpi_interpolated, left_index=True, right_index=True)
ğŸ“¦ Project StructureBashreal-k-lite/
â”œâ”€â”€ api/                        # Backend Application Entry
â”‚   â”œâ”€â”€ index.py                # Vercel Handler & FastAPI App
â”‚   â””â”€â”€ v1/
â”‚       â”œâ”€â”€ endpoints/          # API Routers (Chart, Ticker)
â”‚       â””â”€â”€ models.py           # Pydantic DTO Schemas
â”œâ”€â”€ core/                       # Core Business Logic
â”‚   â”œâ”€â”€ config.py               # Settings (Env Variables)
â”‚   â”œâ”€â”€ data_loader.py          # Yahoo/FRED Fetcher (Async)
â”‚   â””â”€â”€ calculator.py           # Pandas Data Processing Logic
â”œâ”€â”€ tests/                      # Pytest Suites
â”œâ”€â”€ requirements.txt            # Python Dependencies
â””â”€â”€ vercel.json                 # Serverless Configuration
ğŸš€ Getting StartedPrerequisitesPython 3.9+Node.js 18+ (for Frontend)Backend Setup (Local)Bash# 1. Clone the repository
git clone [https://github.com/username/real-k-market.git](https://github.com/username/real-k-market.git)
cd real-k-market

# 2. Create Virtual Environment
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 3. Install Dependencies
pip install -r requirements.txt

# 4. Run Development Server
uvicorn api.index:app --reload
# Access Swagger UI at [http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs)
## ğŸ“Š API Documentation

| Method | Endpoint | Description |
|---|---|---|
| `GET` | `/api/chart/{ticker}` | íŠ¹ì • ì¢…ëª©ì˜ ë³´ì • ì°¨íŠ¸ ë°ì´í„° ì¡°íšŒ (Params: `period`, `mode`) |
| `GET` | `/api/stats/disparity` | í˜„ì¬ ëª…ëª© ì£¼ê°€ì™€ ì‹¤ì§ˆ ì£¼ê°€ ê°„ì˜ ê´´ë¦¬ìœ¨(%) ì¡°íšŒ |
| `GET` | `/api/search` | ì¢…ëª© ì½”ë“œ/ì´ë¦„ ê²€ìƒ‰ |

## ğŸš§ Future Improvements (Roadmap)

- [ ] **Data Caching**: Redis(Upstash)ë¥¼ ë„ì…í•˜ì—¬ ì¤‘ë³µëœ API í˜¸ì¶œ(Yahoo Finance) ìµœì†Œí™” ë° ì‘ë‹µ ì†ë„ ê°œì„ .
- [ ] **Quant Metrics**: MDD(Maximum Drawdown), Sharpe Ratio ë“± í€€íŠ¸ íˆ¬ì ì§€í‘œ ì¶”ê°€ ì œê³µ.
- [ ] **Comparison Mode**: ì‚¼ì„±ì „ì vs ë§ˆì´í¬ë¡  ë“± ê¸€ë¡œë²Œ ê²½ìŸì‚¬ì™€ì˜ ë‹¬ëŸ¬ ê¸°ì¤€ ì„±ê³¼ ë¹„êµ ê¸°ëŠ¥.
- [ ] **Mobile Support**: PWA(Progressive Web App) ì ìš©ìœ¼ë¡œ ì•±ê³¼ ìœ ì‚¬í•œ UX ì œê³µ.

## ğŸ“„ License

MIT License

## ğŸ‘¨â€ğŸ’» Contact

- **Email**: (Your Email)
- **Github**: (Your Github Profile)
- **Portfolio**: (Your Portfolio Link)

This project is part of a portfolio demonstrating Full-Stack Financial Engineering capabilities.
### ğŸ’¡ ì‘ì„± í¬ì¸íŠ¸ (Tip)

1.  **"Quant-Friendly"**: ì„¤ëª… ë¶€ë¶„ì— ìˆ˜ì‹($LaTeX$)ê³¼ ì½”ë“œ ìŠ¤ë‹ˆí«(Pandas ë¡œì§)ì„ í¬í•¨í•˜ì—¬, ë‹¨ìˆœ ê°œë°œìê°€ ì•„ë‹ˆë¼ ê¸ˆìœµ ë°ì´í„°ë¥¼ ì´í•´í•˜ëŠ” ê°œë°œìì„ì„ ê°•ì¡°í–ˆìŠµë‹ˆë‹¤.
2.  **ê¸°ìˆ  ê²°ì •ì˜ ì´ìœ **: ì•„í‚¤í…ì²˜ ì„¹ì…˜ì—ì„œ "ì™œ Serverlessì¸ê°€?", "ì™œ Pandasì¸ê°€?"ë¥¼ ëª…í™•íˆ í•˜ì—¬ ë©´ì ‘ê´€ì˜ ì§ˆë¬¸ì— ëŒ€ë¹„í–ˆìŠµë‹ˆë‹¤.
3.  **ì‹œê°ì  ìš”ì†Œ**: ë°°ì§€(Shields.io)ì™€ Mermaid ë‹¤ì´ì–´ê·¸ë¨ ì½”ë“œë¥¼ í¬í•¨í•˜ì—¬, Githubì— ì˜¬ë ¸ì„ ë•Œ